<!DOCTYPE html>
<meta charset="UTF-8">
<html>
    <head>    
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="public/css/styles.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
        integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
        crossorigin=""/>
        
    </head>
    <body>
        <div id="content">
            <header>
                <h1>Leaflet and geolocalization</h1>
            </header>
            <section id="data">
                <div id="data_display">
                    <div>
                        <h2>longitude</h2>
                        <h2 id="longi"></h2>
                    </div>
                    <div>
                        <h2>latitude</h2>
                        <h2 id="lati"></h2>
                    </div>
                </div>
            </section>
            <section>
                <div id="map">
            </section>
        </div>
        </body>
    </body>
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
    crossorigin=""></script>
    <script src="script/Mapfunctions.js"></script>
    <script>
        var x;
        var y;
        var longi = document.getElementById("longi");
        var lati = document.getElementById("lati");
        function success(position) {
            x = position.coords.latitude;
            y = position.coords.longitude;
            longi.innerHTML = x;
            lati.innerHTML = y;
            console.log(x,y);
        }
        function error(){
            console.log("error");
        }
        navigator.geolocation.getCurrentPosition(success, error);


        var map = L.map('map', {doubleClickZoom: false}).locate({setView: true, maxZoom: 16});
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);
    </script>
</html>